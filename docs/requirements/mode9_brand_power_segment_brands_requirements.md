# モード9 - ブランドパワー分析①（セグメント×複数ブランド）要件定義書

## 最終更新
2025-11-29

---

## 1. 概要

### 1.1 モード名
**モード9**: ブランドパワー分析①（セグメント: X=現在パワー×ブランド）

### 1.2 モードID
`brand_power_segment_brands`

### 1.3 目的
特定のセグメント内で、複数のブランドの**現在パワー指標（BP1-BP4）**を比較し、ブランドの現在の強さを評価する。

### 1.4 主な用途
- ブランドパワーの強み・弱みの可視化
- 競合他社とのパワーポジショニング比較
- 現在のブランド力の総合評価
- マーケティング施策の効果測定

---

## 2. 現在パワー指標（BP1-BP4）

### 2.1 指標一覧

| 指標コード | 指標名 | Excel列 | 列インデックス | 説明 |
|:---|:---|:---|:---|:---|
| BP1 | 詳細認知 | AF | 31 | ブランドを詳しく知っている |
| BP2 | 知覚品質 | AG | 32 | 高品質だと感じている |
| BP3 | ロイヤリティ | AH | 33 | ブランドへの忠誠心がある |
| BP4 | 話題性 | AI | 34 | 話題になっている |

### 2.2 各指標の詳細

#### BP1: 詳細認知
- **定義**: ブランドを詳しく知っている度合い
- **評価内容**: ブランドの認知の深さ
- **マーケティング的意義**: 認知拡大施策の効果測定、ブランド理解度の把握

#### BP2: 知覚品質
- **定義**: 高品質だと感じている度合い
- **評価内容**: ブランドの品質に対する評価
- **マーケティング的意義**: 品質イメージ施策の効果測定、品質認識の把握

#### BP3: ロイヤリティ
- **定義**: ブランドへの忠誠心がある度合い
- **評価内容**: ブランドへの愛着、継続購入意向
- **マーケティング的意義**: ロイヤリティプログラムの効果測定、顧客維持力の把握

#### BP4: 話題性
- **定義**: 話題になっている度合い
- **評価内容**: ブランドの注目度、バズ度
- **マーケティング的意義**: PR施策の効果測定、口コミ力の把握

---

## 3. 分析モード詳細

### 3.1 分析軸の構成
- **X軸**: 現在パワー指標（固定4項目：BP1～BP4）
- **データ系列**: 選択した複数のブランド
- **フィルタ**: セグメント（単一選択）

### 3.2 UI要素
- **分析項目セクション**: 【固定】バッジ表示、UI非表示（4指標は固定のため）
- **セグメントセクション**: 【SA】バッジ表示、ドロップダウン選択
- **ブランドセクション**: 【MA】バッジ表示、複数選択リスト + ドラッグ＆ドロップ

### 3.3 デフォルトチャートタイプ
**レーダーチャート**

**理由**:
- 4指標の総合的なバランスを一目で把握できる
- 複数ブランドの比較が容易
- ブランドパワーの全体像を視覚的に理解しやすい
- レーダーチャートの形状でブランドの特徴を把握

---

## 4. データ要件

### 4.1 Excelファイルのフォーマット

#### 必要な列
| 列 | 列番号（0-based） | Excel列 | ヘッダー名 | 内部キー | 説明 |
|----|-----------------|---------|-----------|---------|------|
| ブランド名 | 3 | D | (任意) | - | ブランド識別子 |
| 詳細認知 | 31 | AF | 詳細認知 | BP1 | 現在パワー指標1 |
| 知覚品質 | 32 | AG | 知覚品質 | BP2 | 現在パワー指標2 |
| ロイヤリティ | 33 | AH | ロイヤリティ | BP3 | 現在パワー指標3 |
| 話題性 | 34 | AI | 話題性 | BP4 | 現在パワー指標4 |

#### データ形式
- **ヘッダー行**: 3行目
- **データ開始**: 4行目以降
- **データ型**: 数値（パーセンテージ）
- **欠損値処理**: 「-」または空白は自動的に0として処理

### 4.2 Excel列インデックスの対応表
```
A列 = 0
B列 = 1
C列 = 2
D列 = 3  ← ブランド名
...
AF列 = 31 (BP1: 詳細認知) ★
AG列 = 32 (BP2: 知覚品質) ★
AH列 = 33 (BP3: ロイヤリティ) ★
AI列 = 34 (BP4: 話題性) ★
```

---

## 5. 技術仕様

### 5.1 型定義（types.ts への追加）

```typescript
// Brand Power Metrics (現在パワー指標)
export interface BrandPowerMetrics {
  BP1: number;  // 詳細認知
  BP2: number;  // 知覚品質
  BP3: number;  // ロイヤリティ
  BP4: number;  // 話題性
}

export const BRAND_POWER_LABELS: { [key in keyof BrandPowerMetrics]: string } = {
  BP1: '詳細認知',
  BP2: '知覚品質',
  BP3: 'ロイヤリティ',
  BP4: '話題性'
};

export const BRAND_POWER_KEYS: (keyof BrandPowerMetrics)[] = ['BP1', 'BP2', 'BP3', 'BP4'];

// Combined metrics type
export type AllMetrics = FunnelMetrics & TimelineMetrics & BrandPowerMetrics;

export type AnalysisMode = 
  | 'funnel_segment_brands'
  | 'funnel_brand_segments'
  | 'funnel_item_segments_brands'
  | 'timeline_brand_segments'
  | 'timeline_segment_brands'
  | 'timeline_item_segments_brands'
  | 'brand_image_segment_brands'
  | 'brand_image_brand_segments'
  | 'brand_power_segment_brands'  // 追加
  | ...;

export type ItemSet = 
  | 'funnel' 
  | 'funnel2' 
  | 'timeline' 
  | 'brandImage' 
  | 'brandPower'  // 追加
  | 'futurePower' 
  | 'custom';
```

### 5.2 モード設定（constants/analysisConfigs.ts への追加）

```typescript
'brand_power_segment_brands': {
  id: 'brand_power_segment_brands',
  name: 'ブランドパワー分析①（セグメント: X=現在パワー×ブランド）',
  description: '単一セグメントにおける複数ブランドのブランドパワー指標を比較',
  axes: {
    items: {
      role: 'X_AXIS',
      label: '分析項目',
      allowMultiple: false,
      itemSet: 'brandPower',
      fixedItems: ['BP1', 'BP2', 'BP3', 'BP4']
    },
    segments: {
      role: 'FILTER',
      label: 'データシート',
      allowMultiple: false
    },
    brands: {
      role: 'SERIES',
      label: 'ブランド比較',
      allowMultiple: true
    }
  },
  dataTransform: {
    xAxis: 'items',
    series: 'brands',
    filter: 'segments'
  },
  defaultChartType: 'radar'  // レーダーチャートがデフォルト
}
```

### 5.3 データパース処理（App.tsx への追加）

```typescript
// Column map for brand power metrics
const brandPowerColMap: { [key in keyof BrandPowerMetrics]?: number } = {};
const brandPowerLabels: { [key in keyof BrandPowerMetrics]: string } = {
  BP1: '詳細認知',
  BP2: '知覚品質',
  BP3: 'ロイヤリティ',
  BP4: '話題性'
};

// Map headers to columns
(Object.keys(brandPowerLabels) as (keyof BrandPowerMetrics)[]).forEach(key => {
  if (headerStr === brandPowerLabels[key]) {
    brandPowerColMap[key] = idx;
  }
});

// Initialize metrics
const metrics: AllMetrics = {
  FT: 0, FW: 0, FZ: 0, GC: 0, GJ: 0, GL: 0,
  T1: 0, T2: 0, T3: 0, T4: 0, T5: 0,
  BP1: 0, BP2: 0, BP3: 0, BP4: 0
};

// Read brand power metrics
(Object.keys(brandPowerLabels) as (keyof BrandPowerMetrics)[]).forEach(key => {
  const colIdx = brandPowerColMap[key];
  if (colIdx !== undefined) {
    let val = row[colIdx];
    if (val === '-' || val === undefined || val === null) val = 0;
    metrics[key] = typeof val === 'number' ? val : parseFloat(val) || 0;
  }
});
```

---

## 6. 使用例

### シナリオ1: 競合他社とのブランドパワー比較

**目的**: 「全体」セグメントで自社ブランドと競合2社のブランドパワーを比較

**手順**:
1. モード9「ブランドパワー分析①（セグメント×複数ブランド）」を選択
2. セグメント「全体」を選択
3. ブランド「自社ブランド」「競合A」「競合B」を選択
4. レーダーチャートで4指標のバランスを確認

**分析ポイント**:
- 自社ブランドの強いパワー指標は何か？
- 競合と比較して弱いパワー指標は何か？
- ブランドパワーの全体的なバランスはどうか？

### シナリオ2: ブランドポートフォリオのパワー分析

**目的**: 自社の複数ブランドのブランドパワーの違いを可視化

**手順**:
1. モード9を選択
2. セグメント「全体」を選択
3. 自社の複数ブランド「ブランドA」「ブランドB」「ブランドC」を選択
4. レーダーチャートで各ブランドの形状を比較

**分析ポイント**:
- 各ブランドの特徴的な強み・弱み
- ポートフォリオ全体でのパワーバランス
- 投資優先度の高いブランドはどれか？

### シナリオ3: チャートタイプの切り替えによる詳細分析

**目的**: レーダーチャートで全体像を把握した後、縦棒グラフで詳細比較

**手順**:
1. モード9を選択
2. セグメント「全体」を選択
3. ブランド「自社ブランド」「競合A」「競合B」を選択
4. まずレーダーチャートで全体像を把握
5. 縦棒グラフに切り替えて、各指標の数値を詳細比較

**分析ポイント**:
- レーダーチャート: 全体的なバランスと形状
- 縦棒グラフ: 各指標の具体的な数値と差

---

## 7. 注意事項

### 7.1 データの解釈
1. **4指標の総合的なバランスが重要**
   - すべての指標が高いのが理想だが、優先順位を明確にする
   - 極端に弱い指標がある場合は重点的に対策が必要

2. **レーダーチャートの形状**
   - **大きな形**: 総合的にブランドパワーが高い
   - **いびつな形**: 特定の指標に偏りがある
   - **均整の取れた形**: バランスの良いブランドパワー

3. **セグメントの選択**
   - 「全体」セグメントで全体傾向を把握
   - 特定セグメント（年代別、性別など）で詳細分析

### 7.2 グラフの読み方
#### レーダーチャート
- **形状**: ブランドパワーの全体的なバランス
- **色分け**: ブランドごとに異なる色
- **面積**: ブランドパワーの総合的な大きさ

#### 縦棒グラフ
- **X軸**: 現在パワー4指標（BP1～BP4）
- **縦棒の高さ**: 各指標の数値
- **色分け**: ブランドごとに異なる色

---

## 8. 他のモードとの使い分け

### モード1とモード9の使い分け
| 観点 | モード1（ファネル分析） | モード9（ブランドパワー分析） |
|------|------------------------|----------------------------|
| **分析対象** | 認知から購入までの段階 | ブランドパワー |
| **指標数** | 6項目 | 4項目 |
| **デフォルトチャート** | 縦棒グラフ | レーダーチャート |
| **主な用途** | ファネル分析 | ブランド力の総合評価 |

### モード9とモード11の使い分け（将来性パワー）
| 観点 | モード9（現在パワー） | モード11（将来性パワー） |
|------|---------------------|------------------------|
| **評価対象** | 今のブランド力 | 将来の成長ポテンシャル |
| **指標数** | 4項目（BP1～BP4） | 6項目（FP1～FP6） |
| **施策の時間軸** | 短期～中期 | 中期～長期 |
| **重視する側面** | 認知・品質・忠誠度・話題性 | イノベーション・社会性・顧客関係 |

---

## 9. ビジネス価値

### 9.1 分析の目的
1. **ブランドパワーの可視化**: 4つの重要な指標でブランド力を総合評価
2. **競合比較**: 競合他社とのパワーポジショニングを把握
3. **強み・弱みの特定**: 伸ばすべき指標と改善すべき指標を明確化
4. **施策効果測定**: マーケティング施策の効果を定量的に測定

### 9.2 想定ユースケース

#### ユースケース1: ブランド診断
**シナリオ**: 自社ブランドの現在の強さを4つの側面から診断

- **操作**: モード9選択 → セグメント「全体」選択 → 自社ブランド選択
- **発見**: 詳細認知とロイヤリティは高いが、話題性が低い
- **アクション**: PR施策を強化して話題性を向上

#### ユースケース2: 競合ベンチマーク
**シナリオ**: 競合他社とのブランドパワーを比較

- **操作**: モード9選択 → セグメント「全体」選択 → 自社と競合2社選択
- **発見**: 自社は品質イメージは高いが、競合に比べて認知が低い
- **アクション**: 認知拡大施策を優先的に実施

#### ユースケース3: ブランドポートフォリオ管理
**シナリオ**: 自社の複数ブランドのパワーバランスを把握

- **操作**: モード9選択 → セグメント「全体」選択 → 自社ブランド3つ選択
- **発見**: ブランドAは総合力が高いが、ブランドBは話題性が低い
- **アクション**: ブランドB向けのPR施策を強化

---

## 10. まとめ

モード9「ブランドパワー分析①（セグメント×複数ブランド）」は、特定のセグメント内で複数のブランドをブランドパワー指標で比較する分析モードです。

### 主な特徴
- **4指標評価**: 詳細認知、知覚品質、ロイヤリティ、話題性
- **レーダーチャート**: 総合的なバランスを一目で把握
- **競合比較**: 自社と競合のポジショニング把握に最適
- **ブランド力の可視化**: 4つの側面からブランド力を総合評価

### 活用シーン
- ブランド診断・評価
- 競合ベンチマーク分析
- ブランドポートフォリオ管理
- マーケティング施策の効果測定

### モード11（将来性パワー）との補完関係
- **モード9**: 現在のブランド力を評価
- **モード11**: 将来の成長ポテンシャルを評価
- 両方を併用することで、現在と将来の両面から評価可能

このモードを活用することで、ブランドパワーを多角的に評価し、効果的なブランド戦略を立案できます。

---

**文書ステータス**: 要件定義完了  
**作成日**: 2025-11-29  
**バージョン**: 1.0

